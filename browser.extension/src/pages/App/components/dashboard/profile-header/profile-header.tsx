import React from 'react';
import styles from './profile-header.module.scss';
import classNames from 'classnames';
import { useBackgroundSelector } from '../../../hooks';
import { getActiveNetwork } from '../../../../Background/redux-slices/selectors/networkSelectors';
import { AccountData } from '../../../../Background/redux-slices/account';
import { getAccountEVMData } from '../../../../Background/redux-slices/selectors/accountSelectors';

export interface ProfileHeaderProps {
    className?: string;
    activeAccount?: string;
}

/**
 * This component was created using Codux's Default new component template.
 * To create custom component templates, see https://help.codux.com/kb/en/article/kb16522
 */
export const ProfileHeader = ({ className, activeAccount }: ProfileHeaderProps) => {
    const logo = <svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="24pt" height="24pt" viewBox="0 0 900.000000 900.000000" preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,900.000000) scale(0.100000,-0.100000)" fill="#ff66c4" stroke="none"> <path d="M3170 7003 c0 -681 0 -1244 0 -1251 0 -10 -226 -12 -1167 -12 l-1168 1 -3 -2380 -2 -2380 122 -3 c92 -2 122 -6 121 -15 -2 -7 -5 -60 -8 -118 -4 -81 -2 -105 7 -105 602 -2 4732 1 4735 4 2 1 4 562 6 1245 l2 1242 1165 2 1165 2 3 2374 c1 1306 -2 2379 -6 2383 -5 5 -53 4 -107 -2 -54 -6 -101 -8 -104 -5 -3 3 -4 62 -2 130 l3 125 -2381 0 -2381 0 0 -1237z m4678 1057 l3 -90 34 0 c41 0 51 -13 29 -35 -21 -21 -46 -16 -59 13 -6 13 -24 26 -45 32 -25 7 -3794 16 -4405 10 -15 0 -12 -2132 3 -2185 16 -53 0 -65 -90 -65 -48 0 -68 4 -68 13 -2 238 1 2391 4 2396 2 3 1036 5 2298 4 l2293 -2 3 -91z m0 -2322 l2 -2178 -1019 0 c-561 0 -1021 3 -1023 8 -2 4 -1 432 2 952 3 520 3 951 1 958 -3 11 -27 12 -112 8 l-109 -6 3 130 2 131 -1065 2 -1065 2 1 33 c0 17 1 504 2 1082 l2 1050 2168 3 c1192 1 2176 2 2187 2 20 0 20 -8 23 -2177z m186 2172 l41 0 -2 -2297 -3 -2298 -1129 -3 -1128 -2 -6 77 c-2 43 -3 81 0 86 2 4 477 7 1054 7 578 0 1055 2 1060 5 6 4 9 839 9 2213 0 1214 0 2211 0 2216 0 5 14 6 31 2 17 -3 50 -6 73 -6z m-4861 -2257 c2 -5 2 -44 -1 -88 l-4 -80 -1051 0 -1052 0 0 -2213 0 -2212 -72 0 c-40 0 -73 3 -73 8 0 16 0 4578 0 4585 0 9 2248 9 2253 0z m234 -4 c7 -7 8 -24 1 -51 -5 -22 -6 -49 -3 -59 3 -10 1 -27 -5 -39 -9 -17 -21 -20 -79 -20 l-69 0 -4 83 c-3 45 -3 85 -1 90 6 11 148 8 160 -4z m2106 4 c2 -5 2 -44 -1 -88 l-4 -80 -1019 0 c-560 0 -1020 2 -1020 5 -5 19 -7 155 -3 162 6 10 2041 11 2047 1z m-2275 -200 c-2 -12 -12 -18 -28 -18 -16 0 -26 6 -28 18 -3 13 3 17 28 17 25 0 31 -4 28 -17z m2340 0 c2 -8 -6 -13 -22 -13 -26 0 -40 12 -29 24 11 11 46 2 51 -11z m-2408 -998 c0 -773 3 -975 13 -975 6 -1 59 -2 117 -3 l105 -2 -4 -55 c-2 -30 -5 -84 -5 -120 l-1 -65 1058 0 1057 0 0 -1085 0 -1085 -2192 3 -2193 3 4 22 c3 12 5 990 7 2172 l2 2150 1004 5 c551 3 1009 6 1016 8 9 2 12 -198 12 -973z m190 965 l37 0 1 -887 c1 -489 5 -907 8 -930 l6 -43 -81 0 -81 0 0 928 c0 511 3 932 7 936 5 4 21 5 37 2 16 -3 45 -6 66 -6z m2152 -917 c2 -609 0 -931 -7 -938 -7 -7 -359 -9 -1029 -7 l-1019 2 7 46 c3 26 6 444 6 930 l0 884 1008 3 c554 1 1013 3 1019 5 10 1 13 -196 15 -925z m226 908 c1 -3 3 -416 5 -918 l2 -911 23 -24 c26 -28 28 -50 7 -68 -13 -11 -15 -8 -15 16 0 49 -11 56 -81 54 -35 -1 -70 -2 -76 -1 -10 1 -13 194 -13 929 0 511 2 931 5 934 8 7 139 -3 143 -11z m-2293 -1891 c0 -13 -6 -25 -12 -27 -9 -3 -13 6 -13 27 0 21 4 30 13 28 6 -3 12 -15 12 -28z m2063 -42 c12 -15 7 -167 -5 -179 -5 -5 -24 -4 -43 1 -22 6 -397 10 -1012 10 l-978 0 0 39 c0 21 -3 59 -6 85 l-7 46 999 3 c550 1 1009 3 1020 5 12 1 26 -4 32 -10z m204 2 l37 0 -1 -80 c-1 -93 -3 -95 -86 -102 -44 -4 -54 -2 -62 13 -12 21 -13 162 -2 173 4 4 23 5 42 2 19 -3 52 -6 72 -6z m32 -267 c0 -13 -1 -558 -2 -1213 l-2 -1190 -2305 0 -2305 0 0 63 c0 34 -3 72 -6 84 l-6 23 2236 2 2237 3 -1 1121 c0 616 3 1123 7 1127 4 4 39 6 78 5 65 -3 70 -4 69 -25z m-4629 -2193 c0 -16 -6 -26 -17 -28 -14 -3 -18 3 -18 28 0 25 4 31 18 28 11 -2 17 -12 17 -28z"/> </g> </svg>
    const activeNetwork = useBackgroundSelector(getActiveNetwork);
    const address = activeAccount? activeAccount as string : '';
    const accountData: AccountData | 'loading' = useBackgroundSelector((state) =>
    getAccountEVMData(state, { address, chainId: activeNetwork.chainID })
  );
    return (
        <div className={styles['profile-header-wrapper']}>
            <div className={styles['logo-wrapper']}>
                {/* <img alt="Logo" src={'../../public/circle.jpg'} className={styles.logo} /> */}
                <div className={styles.logo}>
                  {logo}
                </div>
            </div>
            <div className={styles['profile-info']}>
                <div className={styles['icon-wrapper']}>
                    <span className={styles.icon}>üê≠</span>
                </div>
                <span className={styles.address}>{activeAccount?.substring(0, 5)}...
                {activeAccount?.substring(activeAccount?.length - 5)}</span>
            </div>

            <div className={styles.spacer} />

            <div className={styles['copy-button-wrapper']}>
              <div className={styles['copy-button']}>
                <svg fill="#F39C91" height="18px" viewBox="0 0 82 100" width="18px" xmlns="http://www.w3.org/2000/svg" className={styles['copy-icon']}>
                  <path d="M19.9546 23.2012H29.2528V14.4918C29.2528 12.9307 29.655 11.7372 30.4592 10.9115C31.2635 10.0858 32.4899 9.67289 34.1383 9.67289H49.156V26.2691C49.156 28.8288 49.8581 30.8106 51.2621 32.2146C52.6661 33.6187 54.6369 34.3207 57.1744 34.3207H72.5207V64.6307C72.5207 66.1814 72.1211 67.3723 71.3221 68.2032C70.5229 69.0341 69.305 69.4495 67.6684 69.4495H61.114V78.7477H68.6159C72.9348 78.7477 76.2206 77.6159 78.4733 75.3521C80.7259 73.0884 81.8521 69.7748 81.8521 65.4115V36.3537C81.8521 33.4878 81.5119 31.0601 80.8313 29.0708C80.1507 27.0815 78.9773 25.2376 77.3113 23.5391L59.1095 4.93109C57.5189 3.30796 55.7371 2.14276 53.7641 1.43549C51.7911 0.728293 49.5455 0.374695 47.0272 0.374695H33.1576C28.8387 0.374695 25.5585 1.51213 23.3169 3.78699C21.0754 6.06179 19.9546 9.36976 19.9546 13.7109V23.2012ZM56.5573 25.1949V13.0354L70.175 26.9194H58.2818C57.1322 26.9194 56.5573 26.3446 56.5573 25.1949ZM0.685669 85.7457C0.685669 90.109 1.80643 93.4226 4.04795 95.6863C6.28948 97.95 9.56975 99.0819 13.8887 99.0819H49.3469C53.6659 99.0819 56.9517 97.9445 59.2043 95.6697C61.4569 93.3948 62.5832 90.0868 62.5832 85.7457V57.1698C62.5832 54.3438 62.3162 52.086 61.782 50.3963C61.2479 48.7066 60.0931 46.9629 58.3176 45.1652L38.4265 24.9745C36.7177 23.2212 35.0128 22.0719 33.312 21.5267C31.6113 20.9815 29.47 20.7089 26.8882 20.7089H13.8887C9.56975 20.7089 6.28948 21.8463 4.04795 24.1211C1.80643 26.396 0.685669 29.704 0.685669 34.0451V85.7457ZM9.98395 84.9648V34.826C9.98395 33.2649 10.3861 32.0714 11.1903 31.2457C11.9946 30.42 13.2209 30.0071 14.8693 30.0071H25.3281V49.4664C25.3281 52.6177 26.0953 54.955 27.6295 56.4781C29.1637 58.0012 31.4954 58.7628 34.6245 58.7628H53.2516V84.9648C53.2516 86.5156 52.8577 87.7065 52.0697 88.5373C51.2817 89.3682 50.0583 89.7837 48.3995 89.7837H14.836C13.2098 89.7837 11.9946 89.3682 11.1903 88.5373C10.3861 87.7065 9.98395 86.5156 9.98395 84.9648ZM35.439 50.8845C33.9506 50.8845 33.2064 50.1403 33.2064 48.6519V31.4985L52.2594 50.8845H35.439Z">
                  </path>
                </svg>
                Copy
              </div>
            </div>


            <div className={styles.spacer} />
            {/* <div className={styles['address-wrapper']}>
                <div className={styles['copy-address-container']}>
                    <span className={styles.address}>0x48...35ca</span>
                    <div className={styles['copy-icon']}>
                        <svg
                            fill="#0E76FD"
                            height="18px"
                            viewBox="0 0 82 100"
                            width="18px"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path d="M19.9546 23.2012H29.2528V14.4918C29.2528 12.9307 29.655 11.7372 30.4592 10.9115C31.2635 10.0858 32.4899 9.67289 34.1383 9.67289H49.156V26.2691C49.156 28.8288 49.8581 30.8106 51.2621 32.2146C52.6661 33.6187 54.6369 34.3207 57.1744 34.3207H72.5207V64.6307C72.5207 66.1814 72.1211 67.3723 71.3221 68.2032C70.5229 69.0341 69.305 69.4495 67.6684 69.4495H61.114V78.7477H68.6159C72.9348 78.7477 76.2206 77.6159 78.4733 75.3521C80.7259 73.0884 81.8521 69.7748 81.8521 65.4115V36.3537C81.8521 33.4878 81.5119 31.0601 80.8313 29.0708C80.1507 27.0815 78.9773 25.2376 77.3113 23.5391L59.1095 4.93109C57.5189 3.30796 55.7371 2.14276 53.7641 1.43549C51.7911 0.728293 49.5455 0.374695 47.0272 0.374695H33.1576C28.8387 0.374695 25.5585 1.51213 23.3169 3.78699C21.0754 6.06179 19.9546 9.36976 19.9546 13.7109V23.2012ZM56.5573 25.1949V13.0354L70.175 26.9194H58.2818C57.1322 26.9194 56.5573 26.3446 56.5573 25.1949ZM0.685669 85.7457C0.685669 90.109 1.80643 93.4226 4.04795 95.6863C6.28948 97.95 9.56975 99.0819 13.8887 99.0819H49.3469C53.6659 99.0819 56.9517 97.9445 59.2043 95.6697C61.4569 93.3948 62.5832 90.0868 62.5832 85.7457V57.1698C62.5832 54.3438 62.3162 52.086 61.782 50.3963C61.2479 48.7066 60.0931 46.9629 58.3176 45.1652L38.4265 24.9745C36.7177 23.2212 35.0128 22.0719 33.312 21.5267C31.6113 20.9815 29.47 20.7089 26.8882 20.7089H13.8887C9.56975 20.7089 6.28948 21.8463 4.04795 24.1211C1.80643 26.396 0.685669 29.704 0.685669 34.0451V85.7457ZM9.98395 84.9648V34.826C9.98395 33.2649 10.3861 32.0714 11.1903 31.2457C11.9946 30.42 13.2209 30.0071 14.8693 30.0071H25.3281V49.4664C25.3281 52.6177 26.0953 54.955 27.6295 56.4781C29.1637 58.0012 31.4954 58.7628 34.6245 58.7628H53.2516V84.9648C53.2516 86.5156 52.8577 87.7065 52.0697 88.5373C51.2817 89.3682 50.0583 89.7837 48.3995 89.7837H14.836C13.2098 89.7837 11.9946 89.3682 11.1903 88.5373C10.3861 87.7065 9.98395 86.5156 9.98395 84.9648ZM35.439 50.8845C33.9506 50.8845 33.2064 50.1403 33.2064 48.6519V31.4985L52.2594 50.8845H35.439Z"></path>
                        </svg>
                    </div>
                </div>
            </div> */}
            <div className={styles['spacer-md']} />
            <div className={styles.divider} />
            <div className={styles['spacer-lg']} />

            {/* to-do: inserir balan√ßo aqui*/}
            <div> {accountData !== 'loading' &&
                accountData.balances &&
                accountData.balances[activeNetwork.baseAsset.symbol] && (
                <h1>{parseFloat(
                    accountData.balances[activeNetwork.baseAsset.symbol].assetAmount
                      .amount
                  ).toFixed(4)}{' '}
                  {activeNetwork.baseAsset.symbol}</h1>
            )}
            </div>

            <div className={styles['spacer-md']} />
            <div className={styles.divider} />
            <div className={styles['spacer-lg']} />

        </div>
    );
};
